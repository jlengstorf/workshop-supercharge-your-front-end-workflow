(function(){"use strict";function Supercharged(options){var opts=options||{};this.debug=opts.debug||!1,this.container=opts.container||!1,this.photosToDisplay=opts.photosToDisplay||10,this.template=opts.template||!1;var name=this.constructor.name||"Supercharged";this.log="function"==typeof bows?bows(name):function(){},localStorage.debug=this.debug?!0:"",this.log("New instance created.")}Supercharged.prototype=Object.create({constructor:{value:Supercharged}}),Supercharged.prototype.loadURL=function(url,successCB,errorCB,loadJSON){var request=new XMLHttpRequest,success="function"==typeof successCB?successCB:function(){},error="function"==typeof errorCB?errorCB:function(){};loadJSON=loadJSON===!1?!1:!0,request.open("GET",url,!0),request.onload=function(){if(request.status>=200&&request.status<400){var response="";response=loadJSON?JSON.parse(request.responseText):request.responseText,success(response)}else error(request)},request.onerror=function(){error(request)},request.send()},Supercharged.prototype.loadJSONP=function(url,successCB){var random=new Uint32Array(1);window.crypto.getRandomValues(random);var cbName="cb"+random[0];window[cbName]=function(data){"function"==typeof successCB&&successCB(data)};var jsonp=document.createElement("script");jsonp.src=url+"&callback="+cbName,document.head.appendChild(jsonp)},Supercharged.prototype.renderTemplate=function(template,templateVars,callback){var cb="function"==typeof callback?callback:function(){},success=function(template){var markup=Mustache.render(template,templateVars);cb(markup)};template?this.loadURL(template,success,this.handleError,!1):this.log("No template specified.")},Supercharged.prototype.addToDOM=function(markup){var container=document.querySelector(this.container);container?container.innerHTML=markup:this.log("Please specify a valid container.")},Supercharged.prototype.handleError=function(error){this.log(error)},window.Supercharged=Supercharged}).call(),function(){"use strict";function SuperchargedFacebook(options){Supercharged.apply(this,arguments);var opts=options||{};return this.token=opts.token||!1,this.albumID=opts.albumID||!1,this.token&&this.albumID?void(this.api="https://graph.facebook.com/v2.3/"):(this.log("A valid token and album ID are required."),!1)}SuperchargedFacebook.prototype=Object.create(Supercharged.prototype,{constructor:{value:SuperchargedFacebook}}),SuperchargedFacebook.prototype.loadRecentMedia=function(){var self=this,endpoint=self.api+self.albumID+"/photos",url=endpoint+"?access_token="+self.token;self.loadJSONP(url,self.handleJSON.bind(self))},SuperchargedFacebook.prototype.handleJSON=function(response){var self=this,templateVars={},count=0;self.log("Data received:",response),response.hasOwnProperty("data")&&response.data.length>0&&(templateVars.photos=[],response.data.forEach(function(media,index){count>=self.photosToDisplay||(templateVars.photos[count++]={imgSrc:media.picture,link:media.link,caption:"Image from Facebook"})}),self.renderTemplate(self.template,templateVars,self.addToDOM.bind(self)))},window.SuperchargedFacebook=SuperchargedFacebook}.call(),function(){"use strict";function SuperchargedInstagram(options){Supercharged.apply(this,arguments);var opts=options||{};return this.token=opts.token||!1,this.userID=opts.userID||!1,this.token&&this.userID?void(this.igAPI="https://api.instagram.com/v1/"):(this.log("A valid token and user ID are required."),!1)}SuperchargedInstagram.prototype=Object.create(Supercharged.prototype,{constructor:{value:SuperchargedInstagram}}),SuperchargedInstagram.prototype.loadRecentMedia=function(){var self=this,endpoint=self.igAPI+"users/"+self.userID+"/media/recent",url=endpoint+"?access_token="+self.token;self.loadJSONP(url,self.handleJSON.bind(self))},SuperchargedInstagram.prototype.handleJSON=function(response){var self=this,templateVars={},count=0;self.log("Data received:",response),response.hasOwnProperty("data")&&response.data.length>0&&(templateVars.photos=[],response.data.forEach(function(media,index){count>=self.photosToDisplay||"image"===media.type&&(templateVars.photos[count++]={imgSrc:media.images.low_resolution.url,link:media.link,caption:media.caption.text})}),self.log(templateVars),self.renderTemplate(self.template,templateVars,self.addToDOM.bind(self)))},window.SuperchargedInstagram=SuperchargedInstagram}.call(),function(){"use strict";window.APP_CONFIG={instagram:{userID:"30794906",token:"30794906.1fb234f.8faa8c1dd437479a9ca8f9dda5b202b8"},facebook:{albumID:"756766124393291",token:"220587498083499|VrVXAg_mqhH6cOA8OGFGR9rGyV4"}};var fb_config={debug:!0,albumID:"756766124393291",token:"CAADIn4d3FKsBAFbFU8B411wCU0lbBvVTxrBhWc5qU3ZAlQlpONm2oCae7CZCzNuZC9m39gvdXfmSqqWmm8Y87jNZCdXjUu6nfV4dDdofxt7YA1cD5Rtf7VNICU3FDhK5ezZCXMF0pxPQyNUiAOPXyIHLk4IQaX7P7q7EEOojYa2Ba0PyqvJFsoEfmMkrXKzZBYWUEfclnibTKd6tGlHZAgbIELdcW4XDxjP720TJ522kQZDZD",photosToDisplay:8},facebook=new SuperchargedFacebook(fb_config);facebook.loadRecentMedia()}(),function(){"use strict";var config=window.APP_CONFIG,ig_config={debug:!0,userID:config.instagram.userID,token:config.instagram.token,container:".photo-viewer--instagram",template:"/partials/instagram.mustache"},instagram=new SuperchargedInstagram(ig_config);instagram.loadRecentMedia();var fb_config={debug:!0,albumID:config.facebook.albumID,token:config.facebook.token,container:".photo-viewer--facebook",template:"/partials/facebook.mustache",photosToDisplay:8},facebook=new SuperchargedFacebook(fb_config);facebook.loadRecentMedia()}.call();
//# sourceMappingURL=all.min.js.map